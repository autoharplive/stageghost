<!DOCTYPE html>
<!-- Warning above gets broken by glitch in PanelServerRefresh see c_membertoken foo -->
<html>
<head>
<title>DronesoundTV</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="panels/w3.css">
<!-- This per-theme stylesheet is generated at runtime, also with interpolated tokens -->
<link rel="stylesheet" type="text/css" href="PanelServer_Main.css">
<!-- Theme-wide color set (see 'color classes' below): 
    Also -indigo.css, green, red, black, grey etc
 -->
<link rel="stylesheet" href="/panels/w3-theme-indigo.css">
<link rel="stylesheet" href="/panels/font-awesome.min.css">
<!-- Quick style tweaks -->
<style>
  body { width: 100%; height: 100%; }
</style>

<!-- Theme-specific all 3d kit 3d-intro.js, using Three and Tween -->
<script type="text/javascript" src="/panels/three.js"></script>
<!-- For fancy three.js font stuff -->
<script type="text/javascript" src="/panels/GeometryUtils.js"></script>
<script type="text/javascript" src="/panels/Tween.js"></script>
<!-- For chat lobby bubbles (probably remove) -->
<script type="text/javascript" src="/panels/lobbyimages.jsp"></script>

<!-- Simple refresher. To do: ajaxify -->
<script type="text/javascript">
  <!--
    var timer = null;

    function init () {
      // Make 3d text for shoutout (unless no name 'title' given)
      var sTitle = document.getElementById('title').value;
      if (sTitle == " " || sTitle == "") {
        fnDefault();  // Make a default message instead
        return;  // Let 3d-intro.js handle it
      }

      fnLog ("Panel: Making 3d text for " + sTitle);
      // Make a title heading 
      fnMakeText (
        "/assets/droid_sans_regular.typeface.json",
        "Shoutout  to",
        0, 1.7, -2.9  // New xyz  pos args
      );

      // Make the 3d text (via 3d-intro.js)
      fnMakeText (
        "/assets/droid_sans_regular.typeface.json",
        sTitle,
        0, -0.2, -2.9 
      );
    }

    // Default text if no title
    function fnDefault () {
      fnMakeText (
        "/assets/droid_sans_regular.typeface.json",
        "Welcome  to",
        0, 1.7, -2.9  // New xyz  pos args
      );

      // Make the 3d text (via 3d-intro.js)
      fnMakeText (
        "/assets/droid_sans_regular.typeface.json",
        "DronesoundTV",
        0, -0.2, -2.9 
      );
    }

    function auto_reload() {
      // Would rather just document.getElementById('notice').src =
      // "PanelServerNotice.html"; Instead, full refresh...
      window.location.reload(false);
    }

    // Simple logging feature
    function fnLog (argString) {
      console.log ("3d-intro: " + argString);
    }
//-->
</script>
</head>
<!-- Body onload starts both Three.js render clock and page refresh -->
<body onLoad="init(); timer = setTimeout('auto_reload()', 55050);">
  <script type="text/javascript" src="/panels/3d-intro.js"></script>
  <div>
   <input type="hidden" id="title" value="_REQUESTOR_NAME_ ">
  </div>
</body>
</html>
